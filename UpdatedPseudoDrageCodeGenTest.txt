setup{
    Locations = {
        Start -> Lokale, Hvidovre;
        Lokale -> Slottet, TheFuckeNing;
        TheFuckeNing -> Lokale;
        Slottet -> Lokale, Hvidovre;
        Hvidovre -> Hvidovre;
    }
    player = {
	string name = "Herp";
	int health = 30;
    int joints = 0;
	bool hasSword = false;
    }
}

Location Start = {
    Text "Hello there traveler! How was the journey? My name is Aslan.\n\n so... wanna get high?"; 
    choice {
        "fuck. yeah. (+1 joint)" {player.joints += 1;}
        "nah" { Text "..aight cool. Goodnight then.\n\n If you need a bed try Hvidovre"; Travel Hvidovre; }	    
    }
    Text "Cool! let's go to the bar over there. Looks like they are smoking inside.";
    Travel Lokale;
}

Location Lokale = {
    Travel Slottet;
    Text "STOP";
}

Location TheFuckeNing = {
    Text "STOP";

}

Location Slottet = {
    int enemy_health = 42;
    bool flag = true;

    while(flag){
        Text "Your HP: " + player.health + "(jays:"+player.joints+")   Troll HP: " + enemy_health;
        int roll = Roll(3,8);
        choice {
            "Attack with Staff" { enemy_health -= roll; Text "You attack for "+roll+" damage.";}
            (player.joints > 0)"Smoke Health Potion" { player.health += 15; player.joints -= 1; Text "420 baby! 15 Health healed";}
        }
  
        if (enemy_health <= 0) {
            Text "A GLORIUS WIN for you! The Troll had 6 jays in his stash, score!";
            player.joints += 6;
            Travel Hvidovre;
        }
  
        int enemychoice = Roll(1,2);
          
        if (enemychoice == 1){
            int enemyDamage = Roll(1,5);
            Text "The Enemy attacks you with his greatclub for "+enemyDamage+" damage!";
            player.health -= enemyDamage;
        } else if (enemychoice == 2) {
            int enemyHeals = Roll(1,2);
            Text "The enemy heals for " + enemyHeals + " health";
            enemy_health += enemyHeals;
        }
          
        if (player.health <= 0) {
            Text "you dead boi";
            player.health = 1; 
            Travel Lokale;
        }
    }
}

Location Hvidovre = {
    
    Text "Congratulations, " + player.name + " you managed to get to Hvidovre!";
    choice {
        "Set health to 1" {player.health = 1;}
        "Reroll Health" { player.health = Roll(2, 100); }
        "See health" { Text player.name + " has " + player.health + " HP left"; }
	    "Get Sword" {
		    if(player.hasSword == false){
			    player.hasSword = true;
			    Text "Sword gained yay";
		    }
		    else{
			    player.hasSword = false;
			    Text "Aaaand its gone...";
		    }
	    }
    }
}